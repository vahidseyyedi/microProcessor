## گزارش کار پروژه کنترل LED با سنسور LDR

**مقدمه:**

این گزارش، مستندات مربوط به پروژه کنترل یک LED با استفاده از یک سنسور LDR (مقاومت وابسته به نور) و برد آردوینو را ارائه می‌دهد. هدف این پروژه، آشنایی با نحوه خواندن مقادیر آنالوگ از سنسور LDR، پردازش داده‌ها و کنترل یک خروجی دیجیتال (LED) بر اساس میزان نور محیط است.

**شرح پروژه:**

در این پروژه، از پین آنالوگ A0 برای خواندن مقدار مقاومت LDR استفاده می‌شود. مقدار خوانده شده از سنسور با یک مقدار آستانه (800) مقایسه می‌شود. از آنجا که LDR با افزایش نور، مقاومتش کم می‌شود و ولتاژ خوانده شده توسط آردوینو افزایش می‌یابد، اگر مقدار سنسور از این آستانه بیشتر باشد (نور بیشتر)، LED خاموش می‌شود و در غیر این صورت (نور کمتر)، LED روشن می‌ماند. همچنین، مقدار خوانده شده از سنسور از طریق سریال مانیتور نمایش داده می‌شود.

**کد برنامه:**

کد برنامه به زبان C++ برای آردوینو به شرح زیر است:

```c++
int LED = 13;
int sensor;

void setup() {
  Serial.begin(9600);
  pinMode(LED,OUTPUT);
}

void loop() {
  sensor = analogRead(A0);
  Serial.print("hello");
  Serial.println(sensor);
  delay(300);
  if(sensor > 800){
    digitalWrite(LED, LOW);
  }else{
    digitalWrite(LED, HIGH);
  }
}
```

**توضیح کد:** (همانند گزارش قبلی است)

*   `int LED = 13;`: این خط، پین 13 آردوینو را به عنوان پین LED تعریف می‌کند.
*   `int sensor;`: این متغیر برای ذخیره مقدار خوانده شده از سنسور آنالوگ استفاده می‌شود.
*   `void setup()`: این تابع در ابتدای اجرای برنامه فراخوانی می‌شود. در اینجا، ارتباط سریال با نرخ 9600 bps برقرار شده و پین 13 به عنوان خروجی تعریف می‌شود.
*   `void loop()`: این تابع به صورت مداوم اجرا می‌شود.
    *   `sensor = analogRead(A0);`: مقدار آنالوگ از پین A0 خوانده شده و در متغیر `sensor` ذخیره می‌شود.
    *   `Serial.print("hello");`: عبارت "hello" در سریال مانیتور چاپ می‌شود.
    *   `Serial.println(sensor);`: مقدار سنسور در سریال مانیتور چاپ شده و به خط بعدی می‌رود.
    *   `delay(300);`: برنامه 300 میلی‌ثانیه مکث می‌کند.
    *   `if(sensor > 800)`: مقدار سنسور با 800 مقایسه می‌شود. اگر بزرگتر باشد، LED خاموش می‌شود (`digitalWrite(LED, LOW);`) و در غیر این صورت، LED روشن می‌شود (`digitalWrite(LED, HIGH);`).

**اتصالات سخت افزاری (مهم):**

اتصالات سخت افزاری با توجه به استفاده از LDR به صورت زیر است:

*   یک سر LDR به پین A0 آردوینو متصل می‌شود.
*   سر دیگر LDR به یک سر مقاومت (معمولا 10 کیلواهم) متصل می‌شود.
*   سر دیگر مقاومت به زمین (GND) آردوینو متصل می‌شود.
*   پین مثبت LED به پین 13 آردوینو متصل می‌شود.
*   پین منفی LED از طریق یک مقاومت محدود کننده جریان (معمولا 220 اهم) به زمین (GND) آردوینو متصل می‌شود.

**توضیحات تکمیلی در مورد LDR و اتصالات:**

*   **مقاومت Pull-down:** مقاومتی که به LDR متصل کردیم، یک مقاومت Pull-down است. وظیفه این مقاومت، تعریف یک سطح ولتاژ مشخص (در اینجا زمین) برای پین A0 در زمانی است که نور کافی به LDR نمی‌رسد و مقاومت آن بسیار زیاد است. بدون این مقاومت، مقدار خوانده شده توسط آردوینو نامشخص خواهد بود (Floating).
*   **انتخاب مقدار مقاومت:** مقدار 10 کیلواهم برای مقاومت Pull-down معمولا مناسب است، اما می‌توان آن را با توجه به شرایط محیط و حساسیت مورد نظر تغییر داد. مقادیر کمتر، حساسیت بیشتری به تغییرات نور می‌دهند.
*   **نحوه عملکرد:** وقتی نور به LDR می‌تابد، مقاومت آن کاهش می‌یابد و ولتاژ پین A0 افزایش پیدا می‌کند. وقتی نور کم باشد، مقاومت LDR زیاد شده و ولتاژ پین A0 کاهش می‌یابد.

**نتایج:**

با اجرای این برنامه، مقدار خوانده شده از LDR در سریال مانیتور نمایش داده می‌شود. همچنین، وضعیت LED بر اساس میزان نور محیط تغییر می‌کند. در محیط روشن، LED خاموش و در محیط تاریک، LED روشن می‌شود.

**تصاویر:**
![](https://github.com/vahidseyyedi/microProcessor/blob/main/06%20Laboratory/L_Report_03/src/Untitled%20Sketch%202_bb.jpg)
![](https://github.com/vahidseyyedi/microProcessor/blob/main/06%20Laboratory/L_Report_03/src/photo_2024-11-10_23-00-08%20(2).jpg)

**نتیجه گیری:**

این پروژه نشان می‌دهد که چگونه می‌توان با استفاده از آردوینو و سنسور LDR، یک سیستم ساده برای تشخیص نور و کنترل خروجی ایجاد کرد. این روش در پروژه‌های مختلفی مانند سیستم‌های روشنایی خودکار، دزدگیرهای نوری و غیره کاربرد دارد.

