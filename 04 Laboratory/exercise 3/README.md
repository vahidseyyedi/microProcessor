## گزارش کار: کنترل روشنایی LED با استفاده از ورودی آنالوگ

### عنوان آزمایش:
کنترل شدت نور یک LED با تغییر ولتاژ ورودی آنالوگ

### هدف آزمایش:
هدف از این آزمایش، آشنایی با نحوه تبدیل سیگنال آنالوگ به سیگنال دیجیتال و استفاده از آن برای کنترل خروجی PWM (پالس عرض مدوله) به منظور تغییر شدت نور یک LED است.

### وسایل مورد نیاز:
* برد آردوینو (UNO، نانو یا مشابه)
* یک عدد LED
* یک مقاومت 220 اهمی
* یک پتانسیومتر
* بردبورد
* سیم‌های جامپر

### شرح آزمایش:

#### توضیحات کلی:
در این آزمایش، ما از یک پتانسیومتر برای ایجاد یک ولتاژ متغیر استفاده می‌کنیم. این ولتاژ به پین آنالوگ A0 آردوینو متصل شده و توسط آردوینو خوانده می‌شود. سپس، این مقدار آنالوگ به یک مقدار دیجیتال تبدیل شده و به عنوان ورودی برای تابع `analogWrite` استفاده می‌شود. تابع `analogWrite` یک سیگنال PWM تولید می‌کند که به پین دیجیتال 9 (متصل به LED) اعمال می‌شود. با تغییر موقعیت پتانسیومتر، ولتاژ ورودی تغییر می‌کند و در نتیجه، شدت نور LED نیز تغییر می‌کند.

#### کد نرم‌افزاری:

```c++
int led = 9;
float val = 0;

void setup() {
  pinMode(led, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  val = analogRead(A0);
  val = val / 4;
  analogWrite(led, val);
  Serial.println(val);
}
```

* **تعریف پایه‌ها و متغیرها:**
  * `led`: پین دیجیتال 9 به عنوان خروجی برای کنترل LED تعریف می‌شود.
  * `val`: یک متغیر شناور برای ذخیره مقدار خوانده شده از پین آنالوگ است.
* **خواندن مقدار آنالوگ:**
  * `analogRead(A0)`: مقداری بین 0 تا 1023 را برمی‌گرداند که نشان دهنده ولتاژ خوانده شده از پین A0 است.
* **مقیاس‌بندی مقدار:**
  * `val = val / 4;`: مقدار خوانده شده تقسیم بر 4 می‌شود تا در محدوده 0 تا 255 قرار گیرد که برای تابع `analogWrite` مناسب است.
* **کنترل PWM:**
  * `analogWrite(led, val);`: با استفاده از تابع `analogWrite`، یک سیگنال PWM با چرخه کاری برابر با مقدار `val` به پین 9 اعمال می‌شود. این باعث تغییر شدت نور LED می‌شود.
* **نمایش مقدار بر روی سریال:**
  * `Serial.println(val);`: مقدار مقیاس‌بندی شده بر روی مانیتور سریال نمایش داده می‌شود.

#### شماتیک مدار:
![](https://github.com/vahidseyyedi/microProcessor/blob/main/04%20Laboratory/exercise%203/src/map3.jpg)
![](https://github.com/vahidseyyedi/microProcessor/blob/main/04%20Laboratory/exercise%203/src/3.2.jpg)
![](https://github.com/vahidseyyedi/microProcessor/blob/main/04%20Laboratory/exercise%203/src/3.1.jpg)
![](https://github.com/vahidseyyedi/microProcessor/blob/main/04%20Laboratory/exercise%203/src/3.3.gif)

#### نتیجه‌گیری:
در این آزمایش، ما با موفقیت توانستیم شدت نور یک LED را با استفاده از یک پتانسیومتر کنترل کنیم. این آزمایش نشان می‌دهد که چگونه می‌توان از سیگنال‌های آنالوگ برای کنترل خروجی‌های دیجیتال استفاده کرد. این مفهوم در بسیاری از پروژه‌های الکترونیکی مانند دیمرهای نور، کنترل سرعت موتورها و ساخت رابط‌های کاربری تعاملی کاربرد دارد.

